<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ä¸ªäººé€‚é…WakeUPå­¦æ ¡æ•™åŠ¡è¯¾è¡¨è®°å½•</title>
    <url>/QingNoteblog/2025/07/31/a3975d2b.html</url>
    <content><![CDATA[<h2 id="å¼€å¤´æƒ…æ™¯"><a href="#å¼€å¤´æƒ…æ™¯" class="headerlink" title="å¼€å¤´æƒ…æ™¯"></a>å¼€å¤´æƒ…æ™¯</h2><p>ç¬¬ä¸€æ¬¡ä½¿ç”¨ WakeUp è¯¾ç¨‹è¡¨æ—¶ï¼Œæˆ‘æƒ³ä½¿ç”¨æ•™åŠ¡ç³»ç»Ÿå¯¼å…¥è¯¾ç¨‹è¡¨ï¼Œä½†å‘ç°è‡ªå·±çš„å­¦æ ¡æ²¡æœ‰é€‚é…æ•™åŠ¡ç³»ç»Ÿã€‚å°è¯•ä½¿ç”¨é€šç”¨æ•™åŠ¡ç³»ç»Ÿå¯¼å…¥åï¼Œå‘ç°éƒ¨åˆ†è¯¾ç¨‹æ²¡æœ‰å¯¼å…¥ï¼Œä¿¡æ¯ä¹Ÿæ¯”è¾ƒæ··ä¹±ï¼Œæ‰€ä»¥æˆ‘å†³å®šè‡ªå·±åŠ¨æ‰‹è¿›è¡Œé€‚é…ï¼Œä½†æ˜¯æˆ‘å¹¶ä¸ä¼šå†™Kotlinä»£ç ï¼Œå½“æ—¶æ—¶é—´æ¯”è¾ƒç´§ï¼Œå°±ä½¿ç”¨AIå®Œæˆäº†è¿™ä¸ªé€‚é…ï¼Œè€Œä¸”æ•ˆæœè¿˜ä¸é”™ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬å‰å¾€ WakeUp å®˜æ–¹æä¾›çš„é€‚é…å™¨ä»“åº“ <a href="https://github.com/YZune/CourseAdapter">YZune&#x2F;CourseAdapter</a>ï¼Œäº†è§£é€‚é…çš„åŸºæœ¬åŸç†å’Œç»“æ„ã€‚</p>
<h2 id="é€‚é…å™¨ä»£ç åˆ†æ"><a href="#é€‚é…å™¨ä»£ç åˆ†æ" class="headerlink" title="é€‚é…å™¨ä»£ç åˆ†æ"></a>é€‚é…å™¨ä»£ç åˆ†æ</h2><p>é€‚é…å™¨çš„æ ¸å¿ƒæ˜¯è§£ææ•™åŠ¡ç³»ç»Ÿç½‘é¡µçš„ HTML æºç ï¼Œæå–å‡ºè¯¾ç¨‹ä¿¡æ¯ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º WakeUp App æ‰€è¦æ±‚çš„æ ‡å‡†æ ¼å¼ã€‚ä¸‹é¢æˆ‘å°†ä»¥æˆ‘ä¸ºæ­¦æ±‰èˆ¹èˆ¶èŒä¸šæŠ€æœ¯å­¦é™¢ï¼ˆåŸºäºå­¦æ ¡çš„é‡‘æ™ºæ•™åŠ¡ç³»ç»Ÿï¼‰ç¼–å†™çš„é€‚é…å™¨ä¸ºä¾‹ã€‚</p>
<h3 id="1-æ ¸å¿ƒè§£æå™¨ï¼šWISTParser-kt"><a href="#1-æ ¸å¿ƒè§£æå™¨ï¼šWISTParser-kt" class="headerlink" title="1. æ ¸å¿ƒè§£æå™¨ï¼šWISTParser.kt"></a>1. æ ¸å¿ƒè§£æå™¨ï¼š<code>WISTParser.kt</code></h3><p>è¿™ä¸ªæ–‡ä»¶æ˜¯æ•´ä¸ªé€‚é…å™¨çš„çµé­‚ï¼Œå®ƒè´Ÿè´£ä»åŸå§‹çš„ HTML æ–‡æœ¬ä¸­æå–ã€æ¸…æ´—å’Œç»„ç»‡è¯¾ç¨‹æ•°æ®ã€‚</p>
<h3 id="ä¸»è¦ç‰¹æ€§"><a href="#ä¸»è¦ç‰¹æ€§" class="headerlink" title="ä¸»è¦ç‰¹æ€§"></a>ä¸»è¦ç‰¹æ€§</h3><p>åœ¨å¼€å§‹åˆ†æä»£ç å‰ï¼Œå…ˆçœ‹ä¸€ä¸‹è¿™ä¸ªè§£æå™¨å®ç°äº†å“ªäº›åŠŸèƒ½ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨æ¸…æ´—å‘¨æ¬¡</strong>ï¼šæ”¯æŒ â€œå•å‘¨â€ã€â€åŒå‘¨â€ã€â€X-Xå‘¨â€ ç­‰å¤æ‚æ ¼å¼ã€‚</li>
<li><strong>æ™ºèƒ½åˆå¹¶è¯¾ç¨‹</strong>ï¼šå°†åŒä¸€é—¨è¯¾ç¨‹åœ¨ä¸åŒæ—¶é—´ç‚¹çš„è®°å½•åˆå¹¶ã€‚</li>
<li><strong>åˆå¹¶è¿ç»­èŠ‚æ¬¡</strong>ï¼šè‡ªåŠ¨å°† 3-4 èŠ‚è¿™æ ·çš„è¿ç»­è¯¾ç¨‹åˆå¹¶ä¸ºä¸€ä¸ªæ¡ç›®ã€‚</li>
<li><strong>ç»“æ„åŒ–æ•°æ®è¾“å‡º</strong>ï¼šç”Ÿæˆæ ‡å‡†çš„è¯¾ç¨‹åˆ—è¡¨ï¼ŒåŒ…å«æ‰€æœ‰å¿…è¦ä¿¡æ¯ã€‚</li>
</ul>
<h3 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main.java.parser</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> bean.Course</span><br><span class="line"><span class="keyword">import</span> Common</span><br><span class="line"><span class="keyword">import</span> main.java.bean.TimeDetail</span><br><span class="line"><span class="keyword">import</span> main.java.bean.TimeTable</span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup</span><br><span class="line"><span class="keyword">import</span> parser.Parser</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * WISTParser æ•™åŠ¡è¯¾è¡¨è§£æå™¨</span></span><br><span class="line"><span class="comment"> * é€‚é…ï¼šæ­¦æ±‰èˆ¹èˆ¶èŒä¸šæŠ€æœ¯å­¦é™¢ é‡‘æ™ºæ•™åŠ¡ç³»ç»Ÿ</span></span><br><span class="line"><span class="comment"> * æ—¥æœŸï¼š2025-05-22</span></span><br><span class="line"><span class="comment"> * ä½œè€…ï¼šQing90bing</span></span><br><span class="line"><span class="comment"> * æ³¨æ„ï¼š2025-05-22ä¸ºæ­¢ï¼Œè¯¥å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿä¸ºé‡‘æ™ºæ•™è‚²ç³»ç»Ÿ</span></span><br><span class="line"><span class="comment"> * å› ä¸ºæ˜¯æµ‹è¯•è‡ªå·±å­¦é™¢çš„ï¼Œä¸çŸ¥é“å…¶ä»–å­¦é™¢æƒ…å†µï¼Œæœ‰èƒ½åŠ›çš„è¯å¯ä»¥åœ¨issueä¸­ç•™è¨€ï¼ŒæŠŠè¯¾è¡¨æ–‡ä»¶å‘ç»™æˆ‘</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æµç¨‹ï¼š</span></span><br><span class="line"><span class="comment"> * 1.è¿›å…¥æ•™åŠ¡ç³»ç»Ÿç™»å½•åœ°å€ï¼ˆç»Ÿä¸€èº«ä»½éªŒè¯ï¼‰ï¼šhttp://authserver.wspc.edu.cn/authserver/login?service=http%3A%2F%2Fehall.wspc.edu.cn%2Flogin%3Fservice%3Dhttp%3A%2F%2Fehall.wspc.edu.cn%2Fnew%2Findex.html</span></span><br><span class="line"><span class="comment"> * 2.ç„¶åå­¦ç”Ÿè¯¾è¡¨æŸ¥è¯¢ç½‘å€ï¼šhttp://jw.wspc.edu.cn/jwapp/sys/emaphome/portal/index.do</span></span><br><span class="line"><span class="comment"> * 3.è¿›å…¥è¯¾è¡¨ä¼šéœ€è¦ä¸€æ®µæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œç›´åˆ°é¡µé¢åŠ è½½å®Œæˆï¼Œç„¶åæœ€å¥½ç‚¹å‡»æ‰“å°ï¼Œå†è·å–è¯¾è¡¨ï¼Œç›®å‰åªæ˜¯è¿‡è¿™ä¸ªæ­¥éª¤ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WISTParser</span>(<span class="keyword">private</span> <span class="keyword">val</span> source: String) : Parser() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿæˆè¯¾ç¨‹åˆ—è¡¨çš„æ ¸å¿ƒé€»è¾‘ä» HTML ä¸­æå–è¯¾ç¨‹ä¿¡æ¯ï¼Œè½¬æ¢ä¸ºæ ‡å‡† Course åˆ—è¡¨ï¼Œåˆå¹¶è¯¾è¡¨æ—¶é—´ä¸å‘¨æ¬¡ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">generateCourseList</span><span class="params">()</span></span>: List&lt;Course&gt; &#123;</span><br><span class="line">        <span class="keyword">val</span> courseList = ArrayList&lt;Course&gt;() <span class="comment">// åŸå§‹è¯¾ç¨‹åˆ—è¡¨</span></span><br><span class="line">        <span class="keyword">val</span> doc = Jsoup.parse(source) <span class="comment">// è§£æè¾“å…¥çš„HTMLå†…å®¹</span></span><br><span class="line">        <span class="keyword">val</span> classNameSet = HashSet&lt;String&gt;() <span class="comment">// ç­çº§åç§°é›†åˆï¼ˆè‡ªåŠ¨å»é‡ï¼‰</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æ¯ä¸ªå•å…ƒæ ¼ï¼ˆtdï¼‰ä½œä¸ºä¸€å¤©ä¸­çš„è¯¾è¡¨æ ¼å­</span></span><br><span class="line">        <span class="keyword">val</span> itemCells = doc.select(<span class="string">&quot;td[data-role=item]&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> (td <span class="keyword">in</span> itemCells) &#123;</span><br><span class="line">            <span class="comment">// è§£ææ˜ŸæœŸå‡ ï¼ˆ1-7å¯¹åº”å‘¨ä¸€åˆ°å‘¨æ—¥ï¼‰</span></span><br><span class="line">            <span class="keyword">val</span> day = td.attr(<span class="string">&quot;data-week&quot;</span>).toIntOrNull() ?: <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// è§£æèŠ‚æ¬¡èŒƒå›´ï¼ˆæ•°æ®å±æ€§æˆ–æ–‡æœ¬å†…å®¹ï¼‰</span></span><br><span class="line">            <span class="keyword">val</span> beginNodeAttr = td.attr(<span class="string">&quot;data-begin-unit&quot;</span>).toIntOrNull()</span><br><span class="line">            <span class="keyword">val</span> endNodeAttr = td.attr(<span class="string">&quot;data-end-unit&quot;</span>).toIntOrNull()</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æå–å•å…ƒæ ¼å†…çš„æ‰€æœ‰è¯¾ç¨‹å—</span></span><br><span class="line">            <span class="keyword">val</span> courseDivs = td.select(<span class="string">&quot;div.mtt_arrange_item&quot;</span>)</span><br><span class="line">            <span class="keyword">for</span> (block <span class="keyword">in</span> courseDivs) &#123;</span><br><span class="line">                <span class="comment">// è§£æè¯¾ç¨‹åŸºç¡€ä¿¡æ¯</span></span><br><span class="line">                <span class="keyword">val</span> name = block.selectFirst(<span class="string">&quot;.mtt_item_kcmc&quot;</span>)?.ownText()?.trim() ?: <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">val</span> teacher = block.selectFirst(<span class="string">&quot;.mtt_item_jxbmc&quot;</span>)?.text()?.trim().orEmpty()</span><br><span class="line">                <span class="keyword">val</span> roomInfoRaw = block.selectFirst(<span class="string">&quot;.mtt_item_room&quot;</span>)?.text()?.trim().orEmpty()</span><br><span class="line"></span><br><span class="line">                <span class="comment">// æå–ç­çº§åï¼ˆå¯ç”¨äºè¯¾è¡¨å‘½åï¼‰</span></span><br><span class="line">                block.selectFirst(<span class="string">&quot;.mtt_item_bjmc&quot;</span>)?.text()?.trim()?.takeIf &#123; it.isNotEmpty() &#125;?.let &#123;</span><br><span class="line">                    classNameSet += it</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// è§£æå‘¨æ¬¡ä¿¡æ¯</span></span><br><span class="line">                <span class="keyword">val</span> rawParts = roomInfoRaw.split(Regex(<span class="string">&quot;[,ï¼Œ]&quot;</span>)).map(String::trim)</span><br><span class="line">                <span class="keyword">val</span> weekParts = rawParts.filter &#123; it.contains(<span class="string">&quot;å‘¨&quot;</span>) &#125;</span><br><span class="line">                <span class="keyword">if</span> (weekParts.isEmpty()) <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">val</span> fullWeekStr = weekParts.joinToString(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">                <span class="keyword">val</span> isOdd = fullWeekStr.contains(<span class="string">&quot;å•&quot;</span>)</span><br><span class="line">                <span class="keyword">val</span> isEven = fullWeekStr.contains(<span class="string">&quot;åŒ&quot;</span>)</span><br><span class="line"></span><br><span class="line">                <span class="comment">// ä»…ä¿ç•™æ•°å­—éƒ¨åˆ†ï¼Œå»é™¤â€œå‘¨â€ç­‰éæ•°å­—å¹²æ‰°</span></span><br><span class="line">                <span class="keyword">val</span> weekStrCleaned = weekParts.joinToString(<span class="string">&quot;,&quot;</span>) &#123;</span><br><span class="line">                    it.replace(<span class="string">&quot;å‘¨&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">                &#125;.replace(<span class="string">&quot; &quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">                <span class="comment">// æå–èŠ‚æ¬¡èŒƒå›´ï¼ˆä¼˜å…ˆä½¿ç”¨ data- å±æ€§ï¼‰</span></span><br><span class="line">                <span class="keyword">val</span> (beginNode, endNode) = extractNodeRange(beginNodeAttr, endNodeAttr, rawParts)</span><br><span class="line">                <span class="keyword">if</span> (beginNode &lt;= <span class="number">0</span> || endNode &lt;= <span class="number">0</span>) <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">val</span> step = endNode - beginNode + <span class="number">1</span></span><br><span class="line">                <span class="keyword">val</span> room = extractRoom(rawParts)</span><br><span class="line"></span><br><span class="line">                <span class="comment">// æŒ‰æ¯å‘¨ç”Ÿæˆä¸€ä¸ª Course å¯¹è±¡ï¼ˆé€‚é…è¯¾è¡¨ç»“æ„ï¼‰</span></span><br><span class="line">                <span class="keyword">for</span> (week <span class="keyword">in</span> parseWeeks(weekStrCleaned, isOdd, isEven)) &#123;</span><br><span class="line">                    courseList += Course(</span><br><span class="line">                        name = name,</span><br><span class="line">                        teacher = teacher,</span><br><span class="line">                        room = room,</span><br><span class="line">                        day = day,</span><br><span class="line">                        startNode = beginNode,</span><br><span class="line">                        endNode = endNode,</span><br><span class="line">                        step = step,</span><br><span class="line">                        startWeek = week,</span><br><span class="line">                        endWeek = week,</span><br><span class="line">                        type = <span class="number">0</span>,</span><br><span class="line">                        note = <span class="string">&quot;&quot;</span></span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆå¹¶å‘¨æ¬¡ç›¸åŒã€èŠ‚æ¬¡ç›¸åŒçš„è¯¾ç¨‹</span></span><br><span class="line">        <span class="keyword">val</span> merged = ArrayList&lt;Course&gt;()</span><br><span class="line">        Common.mergeWeekCourse(courseList, merged)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”Ÿæˆè¯¾ç¨‹æ—¶é—´è¡¨ï¼ˆç”¨äºåç»­æ˜¾ç¤º/æé†’ï¼‰</span></span><br><span class="line">        Common.generateTimeTable(merged, generateTimeTable())</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆå¹¶ç›¸é‚»èŠ‚æ¬¡ï¼ˆä¸Šä¸‹èŠ‚è¿æ’ï¼‰</span></span><br><span class="line">        <span class="keyword">val</span> optimized = mergeAdjacentNodes(merged)</span><br><span class="line">        <span class="keyword">this</span>.classNames = classNameSet.toList().sorted()</span><br><span class="line">        <span class="keyword">return</span> optimized</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> classNames: List&lt;String&gt; = emptyList()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›å­¦æ ¡è¯¾è¡¨åç§°ï¼ˆåŒ…å«ç­çº§ä¿¡æ¯ï¼‰</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getTableName</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">if</span> (classNames.isNotEmpty()) &#123;</span><br><span class="line">            <span class="string">&quot;æ­¦èˆ¹&quot;</span> + classNames.joinToString(<span class="string">&quot;,&quot;</span>) + <span class="string">&quot;è¯¾è¡¨&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="string">&quot;æ­¦èˆ¹è¯¾è¡¨&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–æ¯æ—¥æœ€å¤§èŠ‚æ¬¡ï¼ˆå›ºå®šä¸º12èŠ‚ï¼‰</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getNodes</span><span class="params">()</span></span>: <span class="built_in">Int</span> = <span class="number">12</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å­¦æ ¡æœ€å¤§å‘¨æ•°</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getMaxWeek</span><span class="params">()</span></span>: <span class="built_in">Int</span> = <span class="number">20</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®šä¹‰æ ‡å‡†æ—¶é—´è¡¨ï¼ˆæ­¦æ±‰èˆ¹èˆ¶èŒä¸šæŠ€æœ¯å­¦é™¢ä¸“ç”¨ï¼‰</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">generateTimeTable</span><span class="params">()</span></span>: TimeTable = TimeTable(</span><br><span class="line">        name = <span class="string">&quot;æ­¦æ±‰èˆ¹èˆ¶èŒä¸šæŠ€æœ¯å­¦é™¢&quot;</span>,</span><br><span class="line">        timeList = listOf(</span><br><span class="line">            TimeDetail(<span class="number">1</span>, <span class="string">&quot;08:10&quot;</span>, <span class="string">&quot;08:55&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">2</span>, <span class="string">&quot;09:05&quot;</span>, <span class="string">&quot;09:50&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">3</span>, <span class="string">&quot;10:10&quot;</span>, <span class="string">&quot;10:55&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">4</span>, <span class="string">&quot;11:05&quot;</span>, <span class="string">&quot;11:50&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">5</span>, <span class="string">&quot;12:30&quot;</span>, <span class="string">&quot;13:10&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">6</span>, <span class="string">&quot;13:20&quot;</span>, <span class="string">&quot;14:00&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">7</span>, <span class="string">&quot;14:00&quot;</span>, <span class="string">&quot;14:45&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">8</span>, <span class="string">&quot;14:55&quot;</span>, <span class="string">&quot;15:40&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">9</span>, <span class="string">&quot;16:00&quot;</span>, <span class="string">&quot;16:45&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">10</span>, <span class="string">&quot;16:55&quot;</span>, <span class="string">&quot;17:40&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">11</span>, <span class="string">&quot;19:00&quot;</span>, <span class="string">&quot;19:45&quot;</span>),</span><br><span class="line">            TimeDetail(<span class="number">12</span>, <span class="string">&quot;19:55&quot;</span>, <span class="string">&quot;20:40&quot;</span>)</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="comment">//è§£æå‘¨æ¬¡å­—æ®µï¼ˆå¦‚ 1-3,5-7(å•),10-14(åŒ)ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">parseWeeks</span><span class="params">(rawText: <span class="type">String</span>, ignored1: <span class="type">Boolean</span> = <span class="literal">false</span>, ignored2: <span class="type">Boolean</span> = <span class="literal">false</span>)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">val</span> weekList = mutableSetOf&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">        <span class="keyword">val</span> parts = rawText.split(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (part <span class="keyword">in</span> parts) &#123;</span><br><span class="line">            <span class="keyword">val</span> isOdd = part.contains(<span class="string">&quot;å•&quot;</span>)</span><br><span class="line">            <span class="keyword">val</span> isEven = part.contains(<span class="string">&quot;åŒ&quot;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ¸…æ´—å‘¨æ¬¡æ•°å­—éƒ¨åˆ†ï¼ˆå¦‚ 12-14(åŒ) -&gt; 12-14ï¼‰</span></span><br><span class="line">            <span class="keyword">val</span> clean = part.replace(Regex(<span class="string">&quot;[^0-9\\-]&quot;</span>), <span class="string">&quot;&quot;</span>)</span><br><span class="line">            <span class="keyword">val</span> weekRange = <span class="keyword">if</span> (<span class="string">&quot;-&quot;</span> <span class="keyword">in</span> clean) &#123;</span><br><span class="line">                <span class="keyword">val</span> (start, end) = clean.split(<span class="string">&quot;-&quot;</span>).mapNotNull &#123; it.toIntOrNull() &#125;</span><br><span class="line">                (start..end).toList()</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                listOfNotNull(clean.toIntOrNull())</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">val</span> filtered = <span class="keyword">when</span> &#123;</span><br><span class="line">                isOdd -&gt; weekRange.filter &#123; it % <span class="number">2</span> == <span class="number">1</span> &#125;</span><br><span class="line">                isEven -&gt; weekRange.filter &#123; it % <span class="number">2</span> == <span class="number">0</span> &#125;</span><br><span class="line">                <span class="keyword">else</span> -&gt; weekRange</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            weekList += filtered</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> weekList.toList().sorted()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¤æ–­æŸä¸€å‘¨æ˜¯å¦æ˜¯æœ‰æ•ˆçš„ï¼ˆå•/åŒå‘¨ç­›é€‰ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">isValidWeek</span><span class="params">(week: <span class="type">Int</span>, isOdd: <span class="type">Boolean</span>, isEven: <span class="type">Boolean</span>)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">if</span> (isOdd) week % <span class="number">2</span> == <span class="number">1</span> <span class="keyword">else</span> <span class="keyword">if</span> (isEven) week % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">else</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è§£æèŠ‚æ¬¡å­—ç¬¦ä¸²ï¼ˆæ”¯æŒâ€œä¸­1â€ã€â€œä¸­2â€ç­‰ä¸­åˆèŠ‚æ¬¡ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">parseNode</span><span class="params">(str: <span class="type">String</span>)</span></span>: <span class="built_in">Int</span> = <span class="keyword">when</span> &#123;</span><br><span class="line">        str.contains(<span class="string">&quot;ä¸­1&quot;</span>) -&gt; <span class="number">5</span>  <span class="comment">// ä¸­åˆç¬¬1èŠ‚å¯¹åº”ç¬¬5èŠ‚</span></span><br><span class="line">        str.contains(<span class="string">&quot;ä¸­2&quot;</span>) -&gt; <span class="number">6</span>  <span class="comment">// ä¸­åˆç¬¬2èŠ‚å¯¹åº”ç¬¬6èŠ‚</span></span><br><span class="line">        <span class="keyword">else</span> -&gt; str.filter(<span class="built_in">Char</span>::isDigit).toIntOrNull() ?: -<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æå–å¼€å§‹å’Œç»“æŸèŠ‚æ¬¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">extractNodeRange</span><span class="params">(beginAttr: <span class="type">Int</span>?, endAttr: <span class="type">Int</span>?, parts: <span class="type">List</span>&lt;<span class="type">String</span>&gt;)</span></span>: Pair&lt;<span class="built_in">Int</span>, <span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">if</span> (beginAttr != <span class="literal">null</span> &amp;&amp; endAttr != <span class="literal">null</span>) &#123;</span><br><span class="line">            Pair(beginAttr, endAttr)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">val</span> nodePart = parts.firstOrNull &#123; nodePattern.matches(it) &#125; ?: <span class="keyword">return</span> Pair(-<span class="number">1</span>, -<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">val</span> nodes = nodePart.split(<span class="string">&quot;-&quot;</span>)</span><br><span class="line">            Pair(parseNode(nodes.first()), parseNode(nodes.last()))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æå–æ•™å®¤ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">extractRoom</span><span class="params">(parts: <span class="type">List</span>&lt;<span class="type">String</span>&gt;)</span></span>: String &#123;</span><br><span class="line">        <span class="keyword">val</span> roomRegex = Regex(<span class="string">&quot;å®éªŒå®¤|æ•™å®¤|æœºæˆ¿&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> parts.firstOrNull &#123;</span><br><span class="line">            !it.contains(<span class="string">&quot;å‘¨&quot;</span>) &amp;&amp; !it.matches(Regex(<span class="string">&quot;^(ä¸­?[1-9]\\d?)(-(ä¸­?[1-9]\\d?))?$&quot;</span>)) &amp;&amp; roomRegex.containsMatchIn(it)</span><br><span class="line">        &#125; ?: parts.firstOrNull &#123;</span><br><span class="line">            !it.contains(<span class="string">&quot;å‘¨&quot;</span>) &amp;&amp; !it.matches(Regex(<span class="string">&quot;^(ä¸­?[1-9]\\d?)(-(ä¸­?[1-9]\\d?))?$&quot;</span>))</span><br><span class="line">        &#125;.orEmpty()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå¹¶ç›¸é‚»èŠ‚æ¬¡çš„è¯¾ç¨‹ï¼ˆå¦‚ç¬¬1-2èŠ‚ä¸3-4èŠ‚ç›¸é‚»ä¸”å†…å®¹ä¸€è‡´ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">mergeAdjacentNodes</span><span class="params">(courses: <span class="type">List</span>&lt;<span class="type">Course</span>&gt;)</span></span>: List&lt;Course&gt; &#123;</span><br><span class="line">        <span class="keyword">val</span> sorted = courses.sortedWith(</span><br><span class="line">            compareBy&lt;Course&gt; &#123; it.name &#125;</span><br><span class="line">                .thenBy &#123; it.teacher &#125;</span><br><span class="line">                .thenBy &#123; it.room &#125;</span><br><span class="line">                .thenBy &#123; it.day &#125;</span><br><span class="line">                .thenBy &#123; it.startWeek &#125;</span><br><span class="line">                .thenBy &#123; it.endWeek &#125;</span><br><span class="line">                .thenBy &#123; it.startNode &#125;</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">val</span> result = ArrayList&lt;Course&gt;()</span><br><span class="line">        <span class="keyword">var</span> current = sorted[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span> until sorted.size) &#123;</span><br><span class="line">            <span class="keyword">val</span> next = sorted[i]</span><br><span class="line">            <span class="keyword">if</span> (</span><br><span class="line">                current.name == next.name &amp;&amp;</span><br><span class="line">                current.teacher == next.teacher &amp;&amp;</span><br><span class="line">                current.room == next.room &amp;&amp;</span><br><span class="line">                current.day == next.day &amp;&amp;</span><br><span class="line">                current.startWeek == next.startWeek &amp;&amp;</span><br><span class="line">                current.endWeek == next.endWeek &amp;&amp;</span><br><span class="line">                current.type == next.type &amp;&amp;</span><br><span class="line">                current.endNode + <span class="number">1</span> == next.startNode</span><br><span class="line">            ) &#123;</span><br><span class="line">                current = current.copy(</span><br><span class="line">                    endNode = next.endNode,</span><br><span class="line">                    step = next.endNode - current.startNode + <span class="number">1</span></span><br><span class="line">                )</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                result += current</span><br><span class="line">                current = next</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        result += current</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä»å®Œæ•´ HTML ä¸­æå–è¯¾è¡¨è¡¨æ ¼éƒ¨åˆ†</span></span><br><span class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">val</span> weekPattern = Regex(<span class="string">&quot;[^0-9\\-,(å•åŒ)]&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">val</span> nodePattern = Regex(<span class="string">&quot;^(ä¸­?[1-9]\\d?)(-(ä¸­?[1-9]\\d?))?$&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">extractTableHtml</span><span class="params">(fullHtml: <span class="type">String</span>)</span></span>: String? &#123;</span><br><span class="line">            <span class="keyword">return</span> Jsoup.parse(fullHtml).selectFirst(<span class="string">&quot;table.wut_table&quot;</span>)?.outerHtml()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…³é”®é€»è¾‘æ‹†è§£"><a href="#å…³é”®é€»è¾‘æ‹†è§£" class="headerlink" title="å…³é”®é€»è¾‘æ‹†è§£"></a>å…³é”®é€»è¾‘æ‹†è§£</h3><ol>
<li><strong><code>generateCourseList()</code></strong>ï¼šè¿™æ˜¯æœ€æ ¸å¿ƒçš„æ–¹æ³•ã€‚<ul>
<li>å®ƒä½¿ç”¨ <code>Jsoup.parse(source)</code> å°† HTML å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªå¯æ“ä½œçš„æ–‡æ¡£å¯¹è±¡ã€‚</li>
<li>é€šè¿‡ <code>doc.select(&quot;td[data-role=item]&quot;)</code> å®šä½åˆ°æ‰€æœ‰åŒ…å«è¯¾ç¨‹ä¿¡æ¯çš„å•å…ƒæ ¼ã€‚</li>
<li>éå†æ¯ä¸ªå•å…ƒæ ¼ï¼Œæå– <code>data-week</code> (æ˜ŸæœŸå‡ )ã€<code>data-begin-unit</code> (å¼€å§‹èŠ‚æ¬¡) ç­‰å…³é”®å±æ€§ã€‚</li>
<li>åœ¨å•å…ƒæ ¼å†…éƒ¨ï¼Œé€šè¿‡ <code>select(&quot;div.mtt_arrange_item&quot;)</code> æ‰¾åˆ°å…·ä½“çš„è¯¾ç¨‹ä¿¡æ¯å—ã€‚</li>
<li>ä»è¯¾ç¨‹å—ä¸­è§£æå‡ºè¯¾ç¨‹å (<code>.mtt_item_kcmc</code>)ã€æ•™å¸ˆ (<code>.mtt_item_jxbmc</code>) å’ŒåŒ…å«å‘¨æ¬¡ã€æ•™å®¤çš„æ··åˆä¿¡æ¯ (<code>.mtt_item_room</code>)ã€‚</li>
<li>æœ€å…³é”®çš„ä¸€æ­¥æ˜¯è§£æå‘¨æ¬¡ã€‚ä»£ç é¦–å…ˆåˆ†ç¦»å‡ºåŒ…å«â€œå‘¨â€çš„å­—ç¬¦ä¸²ï¼Œç„¶åé€šè¿‡ <code>parseWeeks</code> å‡½æ•°å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°åˆ—è¡¨ï¼ˆä¾‹å¦‚ <code>[1, 2, 3, 5, 7, 9]</code>ï¼‰ã€‚</li>
<li>æœ€åï¼Œå®ƒä¸ºæ¯ä¸ªæœ‰æ•ˆçš„å‘¨æ¬¡éƒ½åˆ›å»ºä¸€ä¸ª <code>Course</code> å¯¹è±¡ï¼Œå¹¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚åœ¨æ‰€æœ‰è¯¾ç¨‹éƒ½è¢«åˆæ­¥è§£æåï¼Œè°ƒç”¨ <code>Common.mergeWeekCourse</code> å’Œè‡ªå®šä¹‰çš„ <code>mergeAdjacentNodes</code> è¿›è¡Œåˆå¹¶ä¸ä¼˜åŒ–ã€‚</li>
</ul>
</li>
<li><strong><code>parseWeeks()</code></strong>ï¼šè¿™ä¸ªè¾…åŠ©å‡½æ•°ä¸“é—¨å¤„ç†å¤æ‚çš„å‘¨æ¬¡å­—ç¬¦ä¸²ã€‚<ul>
<li>å®ƒèƒ½è¯†åˆ« <code>1-16</code> è¿™æ ·çš„èŒƒå›´ï¼Œä¹Ÿèƒ½è¯†åˆ« <code>å•</code>ã€<code>åŒ</code> å…³é”®å­—ï¼Œå¹¶æ®æ­¤è¿‡æ»¤å‘¨æ¬¡ã€‚</li>
<li>ä¾‹å¦‚ï¼Œå¯¹äº <code>&quot;9-12(åŒ)&quot;</code>ï¼Œå®ƒä¼šå…ˆç”Ÿæˆ <code>[9, 10, 11, 12]</code>ï¼Œç„¶åå› ä¸ºæœ‰â€œåŒâ€å­—ï¼Œåªä¿ç•™å¶æ•°ï¼Œæœ€ç»ˆå¾—åˆ° <code>[10, 12]</code>ã€‚</li>
</ul>
</li>
<li><strong><code>extractRoom()</code> å’Œ <code>extractNodeRange()</code></strong>ï¼šè¿™ä¸¤ä¸ªå‡½æ•°è´Ÿè´£ä»æ··æ‚çš„å­—ç¬¦ä¸²ä¸­æå–æœ‰ç”¨çš„ä¿¡æ¯ã€‚<ul>
<li><code>extractNodeRange</code> ä¼˜å…ˆä½¿ç”¨ <code>data-</code> å±æ€§ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä»æ–‡æœ¬ä¸­é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…èŠ‚æ¬¡ä¿¡æ¯ã€‚</li>
<li><code>extractRoom</code> åˆ™é€šè¿‡æ’é™¤æ³•ï¼Œå‰”é™¤æ‰å‘¨æ¬¡å’ŒèŠ‚æ¬¡ä¿¡æ¯åï¼Œå°†å‰©ä½™éƒ¨åˆ†ä½œä¸ºæ•™å®¤åœ°ç‚¹ã€‚</li>
</ul>
</li>
<li><strong><code>mergeAdjacentNodes()</code></strong>ï¼šè¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–æ­¥éª¤ã€‚<ul>
<li>åœ¨å¤„ç†å®Œæ‰€æœ‰è¯¾ç¨‹åï¼Œæœ‰äº›è¯¾ç¨‹å¯èƒ½æ˜¯è¿ç»­çš„ï¼ˆä¾‹å¦‚ï¼ŒåŒä¸€é—¨è¯¾åœ¨ç¬¬1-2èŠ‚å’Œç¬¬3-4èŠ‚ï¼‰ï¼Œè¿™ä¸ªå‡½æ•°ä¼šå°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªæ›´é•¿çš„èŠ‚æ¬¡ï¼ˆç¬¬1-4èŠ‚ï¼‰ï¼Œä½¿è¯¾è¡¨æ›´æ•´æ´ã€‚</li>
</ul>
</li>
</ol>
<h3 id="2-æµ‹è¯•ä¸éªŒè¯ï¼šWISTTest-kt"><a href="#2-æµ‹è¯•ä¸éªŒè¯ï¼šWISTTest-kt" class="headerlink" title="2. æµ‹è¯•ä¸éªŒè¯ï¼šWISTTest.kt"></a>2. æµ‹è¯•ä¸éªŒè¯ï¼š<code>WISTTest.kt</code></h3><p>ç¼–å†™å®Œè§£æå™¨åï¼Œå¦‚ä½•éªŒè¯å®ƒçš„æ­£ç¡®æ€§å‘¢ï¼Ÿè¿™å°±éœ€è¦ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œç”¨äºå¼€å‘å’Œè°ƒè¯•é˜¶æ®µã€‚</p>
<h3 id="ä¸»è¦åŠŸèƒ½"><a href="#ä¸»è¦åŠŸèƒ½" class="headerlink" title="ä¸»è¦åŠŸèƒ½"></a>ä¸»è¦åŠŸèƒ½</h3><ul>
<li>ä»æœ¬åœ°è¯»å–ä¿å­˜çš„è¯¾è¡¨ HTML æ–‡ä»¶ã€‚</li>
<li>è°ƒç”¨ <code>WISTParser</code> è¿›è¡Œè§£æã€‚</li>
<li>ä»¥å¤šç§æ ¼å¼æ¸…æ™°åœ°æ‰“å°è§£æç»“æœã€‚</li>
<li><strong>å†²çªæ£€æµ‹</strong>ï¼šæ£€æŸ¥åŒä¸€æ—¶é—´æ˜¯å¦æœ‰ä¸¤é—¨æˆ–ä»¥ä¸Šè¯¾ç¨‹ã€‚</li>
<li><strong>æ±‡æ€»åˆ†æ</strong>ï¼šç»Ÿè®¡æ¯é—¨è¯¾çš„ä¸Šè¯¾å‘¨æ¬¡ã€æ•™å®¤å’Œæ€»è¯¾æ—¶ã€‚</li>
<li><strong>CSV å¯¼å‡º</strong>ï¼šå°†è§£æç»“æœå¯¼å‡ºä¸º <code>csv</code> æ–‡ä»¶ï¼Œæ–¹ä¾¿ä½¿ç”¨å·¥å…·æŸ¥çœ‹ã€‚</li>
</ul>
<h3 id="å®Œæ•´ä»£ç -1"><a href="#å®Œæ•´ä»£ç -1" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main.java.test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> main.java.parser.WISTParser</span><br><span class="line"><span class="keyword">import</span> bean.Course</span><br><span class="line"><span class="keyword">import</span> java.io.File</span><br><span class="line"><span class="keyword">import</span> java.io.IOException</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat</span><br><span class="line"><span class="keyword">import</span> java.util.*</span><br><span class="line"><span class="keyword">import</span> kotlin.system.measureTimeMillis</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// ======================== [ âš™ï¸é…ç½®åŒº - è°ƒè¯•å¼€å…³ ] ========================</span></span><br><span class="line">    <span class="keyword">val</span> enableCourseDetailLog  = <span class="literal">true</span>     <span class="comment">// æ˜¯å¦æ‰“å°æ¯é—¨è¯¾çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">val</span> enableConflictCheck    = <span class="literal">true</span>     <span class="comment">// æ˜¯å¦æ£€æŸ¥è¯¾ç¨‹å†²çª</span></span><br><span class="line">    <span class="keyword">val</span> enableWeekSummary      = <span class="literal">true</span>     <span class="comment">// æ˜¯å¦æ±‡æ€»ç›¸åŒè¯¾ç¨‹çš„æ‰€æœ‰å‘¨æ•°</span></span><br><span class="line">    <span class="keyword">val</span> enableRoomSummary      = <span class="literal">false</span>    <span class="comment">// æ˜¯å¦ç»Ÿè®¡è¯¾ç¨‹ä½¿ç”¨çš„æ‰€æœ‰æ•™å®¤</span></span><br><span class="line">    <span class="keyword">val</span> enableDurationSummary  = <span class="literal">false</span>    <span class="comment">// æ˜¯å¦ç»Ÿè®¡æ¯é—¨è¯¾æ€»è¯¾æ—¶</span></span><br><span class="line">    <span class="keyword">val</span> enableTimeSummary      = <span class="literal">true</span>     <span class="comment">// æ˜¯å¦ç»Ÿè®¡è§£æè¯¾è¡¨çš„æ€»æ—¶é—´</span></span><br><span class="line">    <span class="comment">// ======================== [ âš™ï¸CSVé…ç½®åŒº - è°ƒè¯•å¼€å…³ ] ========================</span></span><br><span class="line">    <span class="keyword">val</span> enableCsvExport        = <span class="literal">true</span>     <span class="comment">// æ˜¯å¦å¯ç”¨ CSV å¯¼å‡ºåŠŸèƒ½</span></span><br><span class="line">    <span class="comment">// =====================================================================</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ======== 1. è¯»å– HTML æ–‡ä»¶å†…å®¹ ========</span></span><br><span class="line">    <span class="comment">// ç¤ºä¾‹ä¸­ç”¨äº†ç›¸å¯¹è·¯å¾„ï¼ŒWindows ä¸‹å¯èƒ½éœ€è¦ä¿®æ”¹</span></span><br><span class="line">    <span class="comment">// å»ºè®®ä»é¡¹ç›®å¤–å¼•ç”¨ html æ–‡ä»¶</span></span><br><span class="line">    <span class="comment">// æäº¤æ—¶ä¸€å®šä¸è¦ä¸Šä¼  html æ–‡ä»¶ï¼Œæ¶‰åŠéšç§é—®é¢˜</span></span><br><span class="line">    <span class="keyword">val</span> htmlFilePath = <span class="string">&quot;D:/Download/Programs/WC2025-05-31.html&quot;</span> <span class="comment">// è¯·ä¿®æ”¹ä¸ºä½ çš„HTMLæ–‡ä»¶è·¯å¾„</span></span><br><span class="line">    <span class="keyword">val</span> htmlContent = <span class="keyword">try</span> &#123;</span><br><span class="line">        File(htmlFilePath).readText()</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e: IOException) &#123;</span><br><span class="line">        println(<span class="string">&quot;âŒ æ— æ³•è¯»å– HTML æ–‡ä»¶: <span class="subst">$&#123;e.message&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;ğŸ•’ å½“å‰æ—¶é—´ï¼š<span class="subst">$&#123;SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>).format(Date())&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ======== 2. åˆå§‹åŒ–è§£æå™¨å¹¶è·å–è¯¾ç¨‹åˆ—è¡¨ ========</span></span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> courseList: List&lt;Course&gt;</span><br><span class="line">    <span class="keyword">val</span> duration = measureTimeMillis &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">val</span> parser = WISTParser(htmlContent)</span><br><span class="line">            courseList = parser.generateCourseList()</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e: Exception) &#123;</span><br><span class="line">            println(<span class="string">&quot;âŒ è§£æå™¨å¼‚å¸¸ï¼š<span class="subst">$&#123;e.message&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (courseList.isEmpty()) &#123;</span><br><span class="line">        println(<span class="string">&quot;ğŸ“­ æœªè§£æå‡ºä»»ä½•è¯¾ç¨‹ï¼Œè¯·æ£€æŸ¥ HTML å†…å®¹æ˜¯å¦æ­£ç¡®ã€‚&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (enableCourseDetailLog) &#123;</span><br><span class="line">        <span class="keyword">val</span> groupedCourses = courseList.groupBy &#123;</span><br><span class="line">            listOf(it.name, it.teacher, it.room, it.day, it.startNode, it.endNode)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        println(<span class="string">&quot;\nğŸ“š è¯¾ç¨‹è§£æè¯¦æƒ…\n&quot;</span> + <span class="string">&quot;-&quot;</span>.repeat(<span class="number">50</span>))</span><br><span class="line">        groupedCourses.values.forEachIndexed &#123; index, group -&gt;</span><br><span class="line">            <span class="keyword">val</span> sample = group.first()</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è§£ææ¯ä¸ªè¯¾ç¨‹çš„å‘¨æ¬¡</span></span><br><span class="line">            <span class="keyword">val</span> weeks = group.flatMap &#123; course -&gt;</span><br><span class="line">                (course.startWeek..course.endWeek).toList()</span><br><span class="line">            &#125;.toSet().sorted()</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰“å°è¯¾ç¨‹è¯¦æƒ…</span></span><br><span class="line">            println(<span class="string">&quot;ğŸ”¹ ç¬¬ <span class="subst">$&#123;index + <span class="number">1</span>&#125;</span> é—¨è¯¾&quot;</span>.padEnd(<span class="number">30</span>, <span class="string">&#x27;â”€&#x27;</span>))</span><br><span class="line">            println(<span class="string">&quot;ğŸ““ è¯¾ç¨‹åç§° : <span class="subst">$&#123;sample.name&#125;</span>&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;ğŸ§‘ğŸ»â€ğŸ« æ•™å¸ˆ     : <span class="subst">$&#123;sample.teacher&#125;</span>&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;ğŸ“… å‘¨æ•°     : <span class="subst">$&#123;weeks.joinToString(<span class="string">&quot;, &quot;</span>)&#125;</span>&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;â° èŠ‚æ¬¡     : ç¬¬ <span class="subst">$&#123;sample.startNode&#125;</span> - <span class="subst">$&#123;sample.endNode&#125;</span> èŠ‚&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;ğŸ“† æ˜ŸæœŸ     : å‘¨ <span class="subst">$&#123;sample.day&#125;</span>&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;ğŸ“ åœ°ç‚¹     : <span class="subst">$&#123;sample.room&#125;</span>&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;ğŸ“ å¤‡æ³¨     : <span class="subst">$&#123;sample.note&#125;</span>&quot;</span>)</span><br><span class="line">            println()</span><br><span class="line">        &#125;</span><br><span class="line">        println(<span class="string">&quot;ğŸ“¥ å…±è§£æå‡º <span class="subst">$&#123;groupedCourses.size&#125;</span> é—¨è¯¾ç¨‹ã€‚&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ======== 4. å†²çªæ£€æµ‹ï¼ˆå¯é…ç½®ï¼‰ ========</span></span><br><span class="line">    <span class="keyword">if</span> (enableConflictCheck) &#123;</span><br><span class="line">        println(<span class="string">&quot;\nğŸ” å†²çªæ£€æµ‹ç»“æœ\n&quot;</span> + <span class="string">&quot;-&quot;</span>.repeat(<span class="number">50</span>))</span><br><span class="line">        <span class="keyword">val</span> conflicts = mutableListOf&lt;Pair&lt;Course, Course&gt;&gt;()</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> courseList.indices) &#123;</span><br><span class="line">            <span class="keyword">for</span> (j <span class="keyword">in</span> i + <span class="number">1</span> until courseList.size) &#123;</span><br><span class="line">                <span class="keyword">val</span> a = courseList[i]</span><br><span class="line">                <span class="keyword">val</span> b = courseList[j]</span><br><span class="line"></span><br><span class="line">                <span class="comment">// æ ¸å¿ƒï¼šæ¯”è¾ƒæ˜¯å¦ä¸ºåŒä¸€å‘¨ã€åŒä¸€å¤©ã€æ—¶é—´é‡å </span></span><br><span class="line">                <span class="keyword">val</span> sameWeek = (a.startWeek..a.endWeek).intersect(b.startWeek..b.endWeek).isNotEmpty()</span><br><span class="line">                <span class="keyword">val</span> sameDay = a.day == b.day</span><br><span class="line">                <span class="keyword">val</span> timeOverlap = a.startNode &lt;= b.endNode &amp;&amp; b.startNode &lt;= a.endNode</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (sameWeek &amp;&amp; sameDay &amp;&amp; timeOverlap) &#123;</span><br><span class="line">                    conflicts += a to b</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (conflicts.isEmpty()) &#123;</span><br><span class="line">            println(<span class="string">&quot;âœ… æœªå‘ç°è¯¾ç¨‹å†²çªã€‚ğŸ˜„&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            println(<span class="string">&quot;âš ï¸ å…±å‘ç° <span class="subst">$&#123;conflicts.size&#125;</span> å¤„å†²çªğŸ˜”ï¼š&quot;</span>)</span><br><span class="line">            conflicts.forEachIndexed &#123; idx, (c1, c2) -&gt;</span><br><span class="line">                println(<span class="string">&quot;ğŸ†˜ å†²çª <span class="subst">$&#123;idx + <span class="number">1</span>&#125;</span>&quot;</span>)</span><br><span class="line">                println(<span class="string">&quot;ğŸ…°ï¸ <span class="subst">$&#123;c1.name&#125;</span> (å‘¨<span class="subst">$&#123;c1.startWeek&#125;</span>-<span class="subst">$&#123;c1.endWeek&#125;</span>, å‘¨<span class="subst">$&#123;c1.day&#125;</span>, èŠ‚<span class="subst">$&#123;c1.startNode&#125;</span>-<span class="subst">$&#123;c1.endNode&#125;</span>)&quot;</span>)</span><br><span class="line">                println(<span class="string">&quot;ğŸ…±ï¸ <span class="subst">$&#123;c2.name&#125;</span> (å‘¨<span class="subst">$&#123;c2.startWeek&#125;</span>-<span class="subst">$&#123;c2.endWeek&#125;</span>, å‘¨<span class="subst">$&#123;c2.day&#125;</span>, èŠ‚<span class="subst">$&#123;c2.startNode&#125;</span>-<span class="subst">$&#123;c2.endNode&#125;</span>)\n&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ======== 5. æ±‡æ€»åˆ†æï¼šå‘¨æ•°ã€æ•™å®¤ã€æ€»è¯¾æ—¶ ========</span></span><br><span class="line">    <span class="keyword">if</span> (enableWeekSummary || enableRoomSummary || enableDurationSummary) &#123;</span><br><span class="line">        println(<span class="string">&quot;\nğŸ“Š è¯¾ç¨‹æ±‡æ€»åˆ†æ\n&quot;</span> + <span class="string">&quot;-&quot;</span>.repeat(<span class="number">50</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> weekMap = mutableMapOf&lt;String, MutableSet&lt;<span class="built_in">Int</span>&gt;&gt;()</span><br><span class="line">        <span class="keyword">val</span> roomMap = mutableMapOf&lt;String, MutableSet&lt;String&gt;&gt;()</span><br><span class="line">        <span class="keyword">val</span> hourMap = mutableMapOf&lt;String, <span class="built_in">Int</span>&gt;()</span><br><span class="line"></span><br><span class="line">        courseList.forEach &#123; course -&gt;</span><br><span class="line">            <span class="keyword">val</span> key = <span class="string">&quot;<span class="subst">$&#123;course.name&#125;</span>__<span class="subst">$&#123;course.teacher&#125;</span>&quot;</span></span><br><span class="line">            <span class="keyword">val</span> allWeeks = (course.startWeek..course.endWeek).toSet()</span><br><span class="line">            <span class="keyword">val</span> room = course.room.trim()</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ˜¯å¦æ˜¯å•åŒå‘¨</span></span><br><span class="line">            <span class="keyword">val</span> weekType = course.type <span class="comment">// 1ä¸ºå•åŒå‘¨ï¼Œ0ä¸ºä¸å¤„ç†å•åŒå‘¨</span></span><br><span class="line">            <span class="keyword">val</span> weeks = <span class="keyword">when</span> (weekType) &#123;</span><br><span class="line">                <span class="number">1</span> -&gt; allWeeks.filter &#123; it % <span class="number">2</span> == <span class="number">1</span> &#125;.toSet()  <span class="comment">// å•å‘¨ï¼Œä¿ç•™å¥‡æ•°å‘¨</span></span><br><span class="line">                <span class="number">0</span> -&gt; allWeeks <span class="comment">// ä¸åšå•åŒå‘¨å¤„ç†ï¼Œä¿ç•™æ‰€æœ‰å‘¨æ¬¡</span></span><br><span class="line">                <span class="keyword">else</span> -&gt; allWeeks.filter &#123; it % <span class="number">2</span> == <span class="number">0</span> &#125;.toSet()  <span class="comment">// é»˜è®¤å¤„ç†ä¸ºåŒå‘¨ï¼Œä¿ç•™å¶æ•°å‘¨</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ±‡æ€»ä¸Šè¯¾å‘¨æ•°</span></span><br><span class="line">            <span class="keyword">if</span> (enableWeekSummary) &#123;</span><br><span class="line">                weekMap.getOrPut(key) &#123; mutableSetOf() &#125;.addAll(weeks)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ±‡æ€»æ•™å®¤ä¿¡æ¯</span></span><br><span class="line">            <span class="keyword">if</span> (enableRoomSummary &amp;&amp; room.isNotBlank()) &#123;</span><br><span class="line">                roomMap.getOrPut(key) &#123; mutableSetOf() &#125;.add(room)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ±‡æ€»è¯¾æ—¶æ•°ï¼ˆæŒ‰åŒèŠ‚æ¬¡ä¸º 1 èŠ‚è®¡ï¼‰</span></span><br><span class="line">            <span class="keyword">if</span> (enableDurationSummary) &#123;</span><br><span class="line">                <span class="keyword">val</span> duration = (course.endNode - course.startNode + <span class="number">1</span>) / <span class="number">2</span></span><br><span class="line">                hourMap[key] = (hourMap[key] ?: <span class="number">0</span>) + duration * weeks.size</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°ç»“æœ</span></span><br><span class="line">        weekMap.keys.union(roomMap.keys).union(hourMap.keys).forEach &#123; key -&gt;</span><br><span class="line">            <span class="keyword">val</span> (name, teacher) = key.split(<span class="string">&quot;__&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;ğŸ““ è¯¾ç¨‹å : <span class="variable">$name</span>&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;ğŸ§‘ğŸ»â€ğŸ« æ•™å¸ˆ   : <span class="variable">$teacher</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> (enableWeekSummary) &#123;</span><br><span class="line">                <span class="keyword">val</span> weeks = weekMap[key]?.toList()?.sorted() ?: emptyList()</span><br><span class="line">                println(<span class="string">&quot;ğŸŒ¤ï¸ ä¸Šè¯¾å‘¨ : <span class="variable">$weeks</span>&quot;</span>)</span><br><span class="line">                println(<span class="string">&quot;ğŸ”¢ å‘¨æ•°æ®µ : <span class="subst">$&#123;compactWeekList(weeks)&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (enableRoomSummary) &#123;</span><br><span class="line">                <span class="keyword">val</span> rooms = roomMap[key]?.toList()?.sorted() ?: emptyList()</span><br><span class="line">                println(<span class="string">&quot;ğŸ« æ•™å®¤åˆ—è¡¨ : <span class="subst">$&#123;rooms.joinToString(<span class="string">&quot;ã€&quot;</span>)&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (enableDurationSummary) &#123;</span><br><span class="line">                <span class="keyword">val</span> totalHours = hourMap[key] ?: <span class="number">0</span></span><br><span class="line">                println(<span class="string">&quot;â±ï¸ æ€»è¯¾æ—¶ : <span class="variable">$totalHours</span> èŠ‚&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            println()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (enableDurationSummary) &#123;</span><br><span class="line">            println(<span class="string">&quot;ğŸ§® æ‰€æœ‰è¯¾ç¨‹åˆè®¡ä¸Šè¯¾èŠ‚æ•°ï¼š<span class="subst">$&#123;hourMap.values.sum()&#125;</span> èŠ‚&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;ğŸ“Œ æ³¨ï¼šæ¯ 2 ä¸ªèŠ‚æ¬¡ node è®¡ä¸º 1 èŠ‚è¯¾ï¼ˆå¦‚ node=1,2 ä¸º 1 èŠ‚ï¼‰\n&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (enableTimeSummary) &#123;</span><br><span class="line">        println(<span class="string">&quot;â³ æœ¬æ¬¡è¯¾è¡¨æ±‡æ€»è§£æè€—æ—¶ï¼š<span class="subst">$&#123;duration&#125;</span>ms\n&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// CSVå¯¼å‡ºåŠŸèƒ½</span></span><br><span class="line">    <span class="keyword">if</span> (enableCsvExport) &#123;</span><br><span class="line">        print(<span class="string">&quot;ğŸ“¤ æ˜¯å¦å¯¼å‡ºè¯¾ç¨‹è¡¨ä¸º CSV åˆ°æ¡Œé¢ï¼Ÿï¼ˆY/nï¼‰ï¼š&quot;</span>)</span><br><span class="line">        <span class="keyword">val</span> answer = readLine()?.trim()?.lowercase()</span><br><span class="line">        <span class="keyword">if</span> (answer.isNullOrEmpty() || answer == <span class="string">&quot;y&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">val</span> desktopPath = System.getProperty(<span class="string">&quot;user.home&quot;</span>) + <span class="string">&quot;/Desktop&quot;</span></span><br><span class="line">                <span class="keyword">val</span> resultFolder = File(desktopPath, <span class="string">&quot;è§£æç»“æœ&quot;</span>)</span><br><span class="line">                <span class="keyword">if</span> (!resultFolder.exists()) &#123;</span><br><span class="line">                    resultFolder.mkdirs()</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// ä½¿ç”¨å¤§å†™HHè¡¨ç¤º24å°æ—¶åˆ¶</span></span><br><span class="line">                <span class="keyword">val</span> date = SimpleDateFormat(<span class="string">&quot;yyyyMMdd_HHmmss&quot;</span>).format(Date())</span><br><span class="line">                <span class="keyword">val</span> fileName = <span class="string">&quot;è¯¾è¡¨å¯¼å‡º_<span class="variable">$date</span>.csv&quot;</span></span><br><span class="line">                <span class="keyword">val</span> csvFile = File(resultFolder, fileName)</span><br><span class="line"></span><br><span class="line">                <span class="comment">// åˆ†ç»„å¹¶æ•´ç†ä¸ºæ¯ç»„ä¸€è¡Œï¼ŒåŒ…å«æ‰€æœ‰å‘¨æ•°</span></span><br><span class="line">                <span class="keyword">val</span> grouped = courseList.groupBy &#123;</span><br><span class="line">                    listOf(it.name, it.teacher, it.room, it.day, it.startNode, it.endNode)</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                csvFile.printWriter().use &#123; writer -&gt;</span><br><span class="line">                    writer.println(<span class="string">&quot;è¯¾ç¨‹åç§°,æ˜ŸæœŸ,å¼€å§‹èŠ‚æ•°,ç»“æŸèŠ‚æ•°,è€å¸ˆ,åœ°ç‚¹,å‘¨æ•°&quot;</span>)</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">for</span> ((_, group) <span class="keyword">in</span> grouped) &#123;</span><br><span class="line">                        <span class="keyword">val</span> sample = group.first()</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// æ ¹æ® course.type åˆ¤æ–­å•åŒå‘¨</span></span><br><span class="line">                        <span class="keyword">val</span> validWeekList = group.flatMap &#123; course -&gt;</span><br><span class="line">                            <span class="keyword">val</span> allWeeks = (course.startWeek..course.endWeek).toSet()</span><br><span class="line"></span><br><span class="line">                            <span class="comment">// åˆ¤æ–­å•åŒå‘¨</span></span><br><span class="line">                            <span class="keyword">when</span> (course.type) &#123;</span><br><span class="line">                                <span class="number">1</span> -&gt; allWeeks.filter &#123; it % <span class="number">2</span> == <span class="number">1</span> &#125;  <span class="comment">// å•å‘¨ï¼Œä¿ç•™å¥‡æ•°å‘¨</span></span><br><span class="line">                                <span class="number">0</span> -&gt; allWeeks  <span class="comment">// ä¸åšå•åŒå‘¨å¤„ç†ï¼Œä¿ç•™æ‰€æœ‰å‘¨æ¬¡</span></span><br><span class="line">                                <span class="keyword">else</span> -&gt; allWeeks.filter &#123; it % <span class="number">2</span> == <span class="number">0</span> &#125;  <span class="comment">// é»˜è®¤å¤„ç†ä¸ºåŒå‘¨ï¼Œä¿ç•™å¶æ•°å‘¨</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;.toSet().sorted()</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// ç”Ÿæˆæ ¼å¼åŒ–çš„å‘¨æ¬¡å­—ç¬¦ä¸²</span></span><br><span class="line">                        <span class="keyword">val</span> weekTypeDesc = <span class="keyword">when</span> (sample.type) &#123;</span><br><span class="line">                            <span class="number">1</span> -&gt; <span class="keyword">when</span> &#123;</span><br><span class="line">                                validWeekList.all &#123; it % <span class="number">2</span> == <span class="number">1</span> &#125; -&gt; <span class="string">&quot;ï¼ˆå•å‘¨ï¼‰&quot;</span></span><br><span class="line">                                validWeekList.all &#123; it % <span class="number">2</span> == <span class="number">0</span> &#125; -&gt; <span class="string">&quot;ï¼ˆåŒå‘¨ï¼‰&quot;</span></span><br><span class="line">                                <span class="keyword">else</span> -&gt; <span class="string">&quot;&quot;</span></span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> -&gt; <span class="string">&quot;&quot;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">val</span> weekStr = <span class="string">&quot;<span class="subst">$&#123;compactWeekList(validWeekList)&#125;</span> <span class="variable">$weekTypeDesc</span>&quot;</span>.trim()</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// å…³é”®ä¿®å¤ï¼šç”¨åŒå¼•å·åŒ…è£¹å¯èƒ½åŒ…å«é€—å·çš„å­—æ®µ</span></span><br><span class="line">                        <span class="keyword">val</span> line = listOf(</span><br><span class="line">                            escapeCsvField(sample.name),</span><br><span class="line">                            sample.day.toString(),</span><br><span class="line">                            sample.startNode.toString(),</span><br><span class="line">                            sample.endNode.toString(),</span><br><span class="line">                            escapeCsvField(sample.teacher),</span><br><span class="line">                            escapeCsvField(sample.room),</span><br><span class="line">                            escapeCsvField(weekStr)</span><br><span class="line">                        ).joinToString(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">                        writer.println(line)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                println(<span class="string">&quot;âœ… CSV å¯¼å‡ºæˆåŠŸï¼æ–‡ä»¶ä½ç½®ï¼š<span class="subst">$&#123;csvFile.absolutePath&#125;</span>&quot;</span>)</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e: Exception) &#123;</span><br><span class="line">                println(<span class="string">&quot;âŒ å¯¼å‡ºå¤±è´¥ï¼š<span class="subst">$&#123;e.message&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            println(<span class="string">&quot;ğŸ“ ç”¨æˆ·é€‰æ‹©å–æ¶ˆå¯¼å‡ºã€‚&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;ğŸ æµ‹è¯•ç»“æŸ:)\n&quot;</span> + <span class="string">&quot;-&quot;</span>.repeat(<span class="number">50</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å·¥å…·å‡½æ•°ï¼š</span></span><br><span class="line"><span class="comment"> * å°†æ•´æ•°å‘¨åˆ—è¡¨å¦‚ [1,2,3,5,6,9] è½¬æ¢ä¸ºæ ¼å¼åŒ–æ®µè½å­—ç¬¦ä¸² &quot;1-3,5-6,9&quot;</span></span><br><span class="line"><span class="comment"> * ç”¨äºæ›´ç¾è§‚åœ°ä¸Šè¯¾å‘¨æ•°å±•ç¤º</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">compactWeekList</span><span class="params">(weeks: <span class="type">List</span>&lt;<span class="type">Int</span>&gt;)</span></span>: String &#123;</span><br><span class="line">    <span class="keyword">if</span> (weeks.isEmpty()) <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">val</span> result = mutableListOf&lt;String&gt;()</span><br><span class="line">    <span class="keyword">var</span> start = weeks[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> end = weeks[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span> until weeks.size) &#123;</span><br><span class="line">        <span class="keyword">if</span> (weeks[i] == end + <span class="number">1</span>) &#123;</span><br><span class="line">            end = weeks[i]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result += <span class="keyword">if</span> (start == end) <span class="string">&quot;<span class="variable">$start</span>&quot;</span> <span class="keyword">else</span> <span class="string">&quot;<span class="variable">$start</span>-<span class="variable">$end</span>&quot;</span></span><br><span class="line">            start = weeks[i]</span><br><span class="line">            end = weeks[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    result += <span class="keyword">if</span> (start == end) <span class="string">&quot;<span class="variable">$start</span>&quot;</span> <span class="keyword">else</span> <span class="string">&quot;<span class="variable">$start</span>-<span class="variable">$end</span>&quot;</span></span><br><span class="line">    <span class="keyword">return</span> result.joinToString(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°å¢ï¼šCSVå­—æ®µè½¬ä¹‰å‡½æ•°ï¼Œå¤„ç†ç‰¹æ®Šå­—ç¬¦</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">escapeCsvField</span><span class="params">(field: <span class="type">String</span>)</span></span>: String &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå­—æ®µåŒ…å«é€—å·ã€å¼•å·æˆ–æ¢è¡Œç¬¦ï¼Œåˆ™ç”¨åŒå¼•å·åŒ…è£¹å¹¶è½¬ä¹‰å†…éƒ¨å¼•å·</span></span><br><span class="line">    <span class="keyword">if</span> (field.contains(<span class="string">&quot;,&quot;</span>) || field.contains(<span class="string">&quot;\&quot;&quot;</span>) || field.contains(<span class="string">&quot;\n&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;\&quot;<span class="subst">$&#123;field.replace(<span class="string">&quot;\&quot;&quot;</span>, <span class="string">&quot;\&quot;\&quot;&quot;</span>)&#125;</span>\&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> field</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><ol>
<li>åœ¨ä½ çš„æ•™åŠ¡ç³»ç»Ÿç½‘é¡µä¸Šï¼ŒæŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰å–è¯¾è¡¨åŒºåŸŸç„¶åä¿å­˜ç½‘é¡µä¸º HTML æ–‡ä»¶ã€‚</li>
<li>ä¿®æ”¹ <code>WISTTest.kt</code> æ–‡ä»¶ä¸­çš„ <code>htmlFilePath</code> å˜é‡ï¼Œä½¿å…¶æŒ‡å‘ä½ ä¿å­˜çš„ HTML æ–‡ä»¶è·¯å¾„ã€‚</li>
<li>è¿è¡Œ <code>main</code> å‡½æ•°ï¼Œè§‚å¯Ÿæ§åˆ¶å°çš„è¾“å‡ºã€‚</li>
<li>é€šè¿‡å¼€å…³é¡¶éƒ¨çš„ <code>enable...</code> å¸ƒå°”å€¼å˜é‡ï¼Œå¯ä»¥æ§åˆ¶è¾“å‡ºå†…å®¹çš„è¯¦ç»†ç¨‹åº¦ï¼Œè¿™åœ¨è°ƒè¯•æ—¶éå¸¸æœ‰ç”¨ã€‚<br>**æ³¨æ„ï¼š**å½“æ—¶æµ‹è¯•æ—¶å‘ç°ä½¿ç”¨æŸ¥çœ‹CSVæ˜¯æ­£å¸¸çš„ï¼Œå¦‚æœä½¿ç”¨Excelä¼šå¯¼è‡´éƒ¨åˆ†æ˜¾ç¤ºä¸æ­£å¸¸é”™ä½ï¼Œå»ºè®®è¿˜æ˜¯ä½¿ç”¨CSVè½¯ä»¶æ¥æŸ¥çœ‹å¯¼å‡ºç»“æœã€‚</li>
</ol>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è‡ªå·±åŠ¨æ‰‹é€‚é…æ•™åŠ¡ç³»ç»Ÿè™½ç„¶éœ€è¦ä¸€äº›ç¼–ç¨‹åŸºç¡€ã€‚æ ¸å¿ƒåœ¨äº<strong>åˆ†æ HTML ç»“æ„</strong>å’Œ<strong>å¤„ç†ä¸è§„èŒƒçš„æ–‡æœ¬æ•°æ®</strong>ã€‚åªè¦æŒæ¡äº† <code>Jsoup</code> çš„åŸºæœ¬ç”¨æ³•å’Œä¸€äº› Kotlin çš„æ•°æ®å¤„ç†æŠ€å·§ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ºè‡ªå·±çš„å­¦æ ¡è´¡çŒ®ä¸€ä¸ªé€‚é…å™¨ã€‚</p>
<p>å¦‚æœéœ€è¦æŸ¥çœ‹å’Œ<code>WISTTest.kt</code>å’Œ<code>WISTParser.kt</code>åŸæ–‡ä»¶ï¼Œå¯ä»¥å‰å¾€æˆ‘çš„å¤åˆ»ä»“åº“æœç´¢æ–‡ä»¶æŸ¥çœ‹<a href="https://github.com/Qing90bing/CourseAdapter/tree/wist-parser">Qing90bing&#x2F;CourseAdapter</a></p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¯¹åŒæ ·æƒ³è¿›è¡Œé€‚é…çš„åŒå­¦æœ‰æ‰€å¸®åŠ©ï¼</p>
]]></content>
      <tags>
        <tag>ä»£ç </tag>
        <tag>WakeUPè¯¾ç¨‹è¡¨</tag>
        <tag>é€‚é…</tag>
        <tag>è§£æ</tag>
      </tags>
  </entry>
  <entry>
    <title>å‘Šåˆ«æ‹–å»¶ï¼šè¿™æ¬¾Appå¦‚ä½•æ”¹å˜æˆ‘çš„å·¥ä½œæµ</title>
    <url>/QingNoteblog/2025/07/28/3e8b7646.html</url>
    <content><![CDATA[<p>ç»§ä¸Šä¸€ç¯‡ç«‹ä¸‹å†™ä½œçš„ Flag ä¹‹åï¼Œæˆ‘å‘ç°æœ€å¤§çš„æ•Œäººå°±æ˜¯â€œæ‹–å»¶ç—‡â€ã€‚åœ¨å°è¯•äº†å¤šç§æ–¹æ³•åï¼Œæˆ‘ç»ˆäºæ‰¾åˆ°äº†ä¸€æ¬¾åä¸ºâ€œFocusFlowâ€çš„ç¥å™¨ï¼Œå®ƒæå¤§åœ°æ”¹å–„äº†æˆ‘çš„å·¥ä½œå’Œå­¦ä¹ æ•ˆç‡ã€‚</p>
<h2 id="æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆ"><a href="#æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆ" class="headerlink" title="æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆ"></a>æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆ</h2><p>FocusFlow å¹¶æ²¡æœ‰å¤æ‚çš„åŠŸèƒ½ï¼Œè€Œæ˜¯å°†æœ€æ ¸å¿ƒçš„æ•ˆç‡å·¥å…·åšåˆ°äº†æè‡´ï¼š</p>
<ol>
<li><strong>æ™ºèƒ½ä»»åŠ¡æ¸…å•</strong>ï¼šä¸ä»…ä»…æ˜¯ç½—åˆ—ä»»åŠ¡ï¼Œå®ƒèƒ½æ ¹æ®ä½ è®¾å®šçš„ä¼˜å…ˆçº§å’Œæˆªæ­¢æ—¥æœŸï¼Œæ™ºèƒ½æ¨èå½“å¤©æœ€éœ€è¦å®Œæˆçš„äº‹é¡¹ã€‚</li>
<li><strong>ç•ªèŒ„å·¥ä½œæ³•è®¡æ—¶å™¨</strong>ï¼šå†…ç½®ç»å…¸çš„ç•ªèŒ„é’Ÿï¼Œæ¯å®Œæˆä¸€ä¸ª25åˆ†é’Ÿçš„ä¸“æ³¨æ—¶æ®µï¼Œå°±èƒ½è·å¾—çŸ­æš‚ä¼‘æ¯ã€‚è¿™ç§èŠ‚å¥æ„Ÿè®©æˆ‘æ›´å®¹æ˜“æŠ•å…¥ã€‚</li>
<li><strong>ç™½å™ªéŸ³èƒŒæ™¯éŸ³</strong>ï¼šæä¾›å¦‚å›¾ä¹¦é¦†ã€å’–å•¡é¦†ã€é›¨å¤©ç­‰å¤šç§ç™½å™ªéŸ³é€‰é¡¹ï¼Œå¸®åŠ©å±è”½å¹²æ‰°ï¼Œåˆ›é€ æ²‰æµ¸å¼çš„å·¥ä½œç¯å¢ƒã€‚</li>
</ol>
<h2 id="æˆ‘çš„ä½¿ç”¨ä½“éªŒ"><a href="#æˆ‘çš„ä½¿ç”¨ä½“éªŒ" class="headerlink" title="æˆ‘çš„ä½¿ç”¨ä½“éªŒ"></a>æˆ‘çš„ä½¿ç”¨ä½“éªŒ</h2><p>å¯¹æˆ‘æ¥è¯´ï¼Œæ”¹å˜æœ€å¤§çš„æ˜¯â€œ<strong>ä»»åŠ¡åˆ†è§£</strong>â€å’Œâ€œ<strong>æ­£å‘æ¿€åŠ±</strong>â€ã€‚</p>
<p>å½“æˆ‘æœ‰ä¸€ä¸ªå¤§ä»»åŠ¡ï¼Œæ¯”å¦‚â€œå†™ä¸€ç¯‡å…³äºæ—…è¡Œçš„æ–‡ç« â€æ—¶ï¼Œæˆ‘ä¼šç”¨ FocusFlow å°†å®ƒåˆ†è§£æˆâ€œæœé›†èµ„æ–™â€ã€â€œæ‹Ÿå®šå¤§çº²â€ã€â€œæ’°å†™åˆç¨¿â€ã€â€œé…å›¾å’Œä¿®æ”¹â€ç­‰å°æ­¥éª¤ã€‚æ¯å®Œæˆä¸€ä¸ªç•ªèŒ„é’Ÿï¼Œåº”ç”¨éƒ½ä¼šæœ‰ä¸€ä¸ªå°å°çš„åº†ç¥åŠ¨ç”»ï¼Œè¿™ç§å³æ—¶çš„æ»¡è¶³æ„Ÿç»™äº†æˆ‘æŒç»­ä¸‹å»çš„åŠ¨åŠ›ã€‚</p>
<blockquote>
<p>â€œæˆ‘ä»¬ä¸æ˜¯åœ¨ç®¡ç†æ—¶é—´ï¼Œè€Œæ˜¯åœ¨ç®¡ç†æˆ‘ä»¬è‡ªå·±ã€‚â€</p>
</blockquote>
<p>å¦‚æœä½ ä¹Ÿåƒæˆ‘ä¸€æ ·ï¼Œæ—¶å¸¸è¢«ç¹æ‚çš„ä»»åŠ¡å’Œæ— å¤„ä¸åœ¨çš„å¹²æ‰°æ‰€å›°æ‰°ï¼Œä¸å¦¨è¯•è¯•è¿™æ¬¾ Appã€‚æœ‰æ—¶å€™ï¼Œä¸€ä¸ªå¥½çš„å·¥å…·çœŸçš„èƒ½äº‹åŠåŠŸå€ã€‚</p>
]]></content>
      <tags>
        <tag>æ•ˆç‡</tag>
        <tag>App</tag>
        <tag>ç§‘æŠ€</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯»ã€Šäººç±»ç®€å²ã€‹ï¼šä¸€æ¬¡å…³äºæˆ‘ä»¬æ˜¯è°çš„å®å¤§å™äº‹</title>
    <url>/QingNoteblog/2025/07/29/5f631fa5.html</url>
    <content><![CDATA[<p>å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œæˆ‘å¯¹å†å²çš„è®¤çŸ¥éƒ½åœç•™åœ¨æ•™ç§‘ä¹¦å¼çš„å¹´ä»£å’Œäº‹ä»¶ä¸Šã€‚ç›´åˆ°æˆ‘è¯»äº†å°¤ç“¦å°”Â·èµ«æ‹‰åˆ©çš„ã€Šäººç±»ç®€å²ï¼šä»åŠ¨ç‰©åˆ°ä¸Šå¸ã€‹ï¼Œè¿™ç§è®¤çŸ¥è¢«å½»åº•é¢ è¦†äº†ã€‚è¿™æœ¬ä¹¦ç”¨ä¸€ç§æå…¶å®å¤§è€Œåˆé€šä¿—æ˜“æ‡‚çš„è§†è§’ï¼Œé‡æ–°è®²è¿°äº†æˆ‘ä»¬æ™ºäººçš„æ•…äº‹ã€‚</p>
<h2 id="ä»è®¤çŸ¥é©å‘½åˆ°ç§‘å­¦é©å‘½"><a href="#ä»è®¤çŸ¥é©å‘½åˆ°ç§‘å­¦é©å‘½" class="headerlink" title="ä»è®¤çŸ¥é©å‘½åˆ°ç§‘å­¦é©å‘½"></a>ä»è®¤çŸ¥é©å‘½åˆ°ç§‘å­¦é©å‘½</h2><p>ä½œè€…å°†äººç±»7ä¸‡å¹´çš„å†å²æµ“ç¼©ä¸ºä¸‰ä¸ªå…³é”®çš„é©å‘½ï¼š</p>
<ol>
<li><strong>è®¤çŸ¥é©å‘½</strong>ï¼šå¤§çº¦7ä¸‡å¹´å‰ï¼Œæ™ºäººå‘å±•å‡ºäº†ç‹¬ç‰¹çš„è¯­è¨€ï¼Œèƒ½å¤Ÿè®¨è®ºè™šæ„çš„äº‹ç‰©ï¼Œä»è€Œå½¢æˆäº†éƒ¨è½ã€å›½å®¶ã€å®—æ•™ç­‰å¤§è§„æ¨¡åä½œçš„åŸºç¡€ã€‚</li>
<li><strong>å†œä¸šé©å‘½</strong>ï¼šå¤§çº¦1.2ä¸‡å¹´å‰ï¼Œæˆ‘ä»¬å­¦ä¼šäº†ç§æ¤å’Œç•œç‰§ã€‚è¿™çœ‹ä¼¼æ˜¯è¿›æ­¥ï¼Œä½†ä½œè€…å´è®¤ä¸ºï¼Œå®ƒå¯èƒ½æ˜¯ä¸€ä¸ªâ€œå²ä¸Šæœ€å¤§çš„éª—å±€â€ï¼Œè®©äººç±»çš„ç”Ÿæ´»å˜å¾—æ›´è¾›è‹¦ï¼Œé¥®é£Ÿæ›´å•ä¸€ã€‚</li>
<li><strong>ç§‘å­¦é©å‘½</strong>ï¼šä»…ä»…500å¹´å‰ï¼Œäººç±»æ‰¿è®¤äº†è‡ªå·±çš„æ— çŸ¥ï¼Œå¹¶å¼€å§‹ç”¨è§‚å¯Ÿå’Œæ•°å­¦æ¥æ¢ç´¢ä¸–ç•Œï¼Œä»è€Œè·å¾—äº†å‰æ‰€æœªæœ‰çš„åŠ›é‡ã€‚</li>
</ol>
<h2 id="æœ€è®©æˆ‘éœ‡æ’¼çš„è§‚ç‚¹"><a href="#æœ€è®©æˆ‘éœ‡æ’¼çš„è§‚ç‚¹" class="headerlink" title="æœ€è®©æˆ‘éœ‡æ’¼çš„è§‚ç‚¹"></a>æœ€è®©æˆ‘éœ‡æ’¼çš„è§‚ç‚¹</h2><p>ä¹¦ä¸­é¢ è¦†æ€§çš„è§‚ç‚¹ä¿¯æ‹¾å³æ˜¯ï¼Œä½†æœ€è®©æˆ‘å°è±¡æ·±åˆ»çš„æ˜¯å…³äºâ€œæƒ³è±¡çš„å…±åŒä½“â€çš„æ¦‚å¿µã€‚</p>
<blockquote>
<p>é‡‘é’±ã€å›½å®¶ã€æ³•å¾‹ã€å®—æ•™â€¦â€¦æ‰€æœ‰è¿™äº›æˆ‘ä»¬èµ–ä»¥ç”Ÿå­˜çš„ç§©åºï¼Œæœ¬è´¨ä¸Šéƒ½åªå­˜åœ¨äºæˆ‘ä»¬çš„å…±åŒæƒ³è±¡ä¹‹ä¸­ã€‚ä¸€å¼ ç»¿è‰²çš„çº¸ï¼ˆé’ç¥¨ï¼‰æœ¬èº«æ¯«æ— ä»·å€¼ï¼Œä½†å› ä¸ºæˆ‘ä»¬æ‰€æœ‰äººéƒ½ç›¸ä¿¡å®ƒæœ‰ä»·å€¼ï¼Œå®ƒæ‰èƒ½æ¢æ¥å•†å“å’ŒæœåŠ¡ã€‚</p>
</blockquote>
<p>æ­£æ˜¯è¿™ç§æ„å»ºå’Œç›¸ä¿¡æ•…äº‹çš„èƒ½åŠ›ï¼Œè®©æˆ‘ä»¬ä»ä¸€ç§æ— è¶³è½»é‡çš„éæ´²çŒ¿ç±»ï¼Œå˜æˆäº†åœ°çƒçš„ä¸»å®°ã€‚</p>
<p>è¯»å®Œè¿™æœ¬ä¹¦ï¼Œæˆ‘æŠ¬å¤´çœ‹å‘¨å›´çš„ä¸–ç•Œï¼Œä»¿ä½›ä¸€åˆ‡éƒ½å˜å¾—ä¸ä¸€æ ·äº†ã€‚å®ƒæ²¡æœ‰æä¾›è½»æ¾çš„ç­”æ¡ˆï¼Œå´å¼•å‘äº†æ— ç©·çš„æ€è€ƒï¼šæˆ‘ä»¬ä»å“ªé‡Œæ¥ï¼Ÿæˆ‘ä»¬å¦‚ä½•èµ°åˆ°äº†ä»Šå¤©ï¼Ÿä»¥åŠï¼Œæˆ‘ä»¬æœ€ç»ˆå°†èµ°å‘ä½•æ–¹ï¼Ÿ</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€æœ¬å†å²ä¹¦ï¼Œæ›´æ˜¯ä¸€æœ¬å…³äºäººç±»è‡ªèº«ã€å…³äºæˆ‘ä»¬æœªæ¥çš„æ·±åˆ»å¯ç¤ºå½•ã€‚å¼ºçƒˆæ¨èç»™æ¯ä¸€ä¸ªå¯¹ä¸–ç•Œä¿æŒå¥½å¥‡å¿ƒçš„äººã€‚</p>
]]></content>
      <tags>
        <tag>é˜…è¯»</tag>
        <tag>å†å²</tag>
        <tag>æ€è€ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« </title>
    <url>/QingNoteblog/2025/07/28/7a776471.html</url>
    <content><![CDATA[<p>æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸–ç•Œï¼è¿™æ˜¯æˆ‘æ­£å¼å†™ä¸‹çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œç”¨æ¥è®°å½•ä¸€äº›æƒ³æ³•å’Œæ„Ÿå—ã€‚æˆ‘æ„Ÿåˆ°éå¸¸å…´å¥‹ï¼Œä¹Ÿæœ‰äº›è®¸ç´§å¼ ï¼Œå¸Œæœ›è¿™åªæ˜¯ä¸€ä¸ªå¼€å§‹ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆå¼€å§‹å†™ä½œï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå¼€å§‹å†™ä½œï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå¼€å§‹å†™ä½œï¼Ÿ"></a>ä¸ºä»€ä¹ˆå¼€å§‹å†™ä½œï¼Ÿ</h2><p>ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘éƒ½è§‰å¾—å†™ä½œæ˜¯ä¸€ä»¶å¾ˆæœ‰æ„ä¹‰çš„äº‹æƒ…ã€‚å®ƒå¯ä»¥å¸®åŠ©æˆ‘ï¼š</p>
<ul>
<li><strong>æ¢³ç†æ€ç»ª</strong>ï¼šå°†è„‘æµ·ä¸­æ‚ä¹±çš„æƒ³æ³•æ•´ç†æˆæœ‰æ¡ç†çš„æ–‡å­—ã€‚</li>
<li><strong>è®°å½•ç”Ÿæ´»</strong>ï¼šæ•æ‰é‚£äº›å®¹æ˜“è¢«é—å¿˜çš„ç¬é—´å’Œæ„Ÿæ‚Ÿã€‚</li>
<li><strong>åˆ†äº«çŸ¥è¯†</strong>ï¼šå¦‚æœæˆ‘çš„ç»éªŒèƒ½å¸®åŠ©åˆ°å“ªæ€•ä¸€ä¸ªäººï¼Œé‚£ä¹Ÿæ˜¯å€¼å¾—çš„ã€‚</li>
<li><strong>æå‡è‡ªæˆ‘</strong>ï¼šé€šè¿‡æŒç»­çš„è¾“å…¥å’Œè¾“å‡ºï¼Œä¸æ–­å­¦ä¹ å’Œè¿›æ­¥ã€‚</li>
</ul>
<h2 id="æˆ‘æƒ³å†™äº›ä»€ä¹ˆï¼Ÿ"><a href="#æˆ‘æƒ³å†™äº›ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æˆ‘æƒ³å†™äº›ä»€ä¹ˆï¼Ÿ"></a>æˆ‘æƒ³å†™äº›ä»€ä¹ˆï¼Ÿ</h2><p>æˆ‘å¯¹å¾ˆå¤šé¢†åŸŸéƒ½å……æ»¡å¥½å¥‡ï¼Œæœªæ¥æˆ‘å¯èƒ½ä¼šåœ¨è¿™é‡Œåˆ†äº«å…³äºä»¥ä¸‹ä¸»é¢˜çš„å†…å®¹ï¼š</p>
<ol>
<li><strong>ç§‘æŠ€ä¸ç”Ÿæ´»</strong>ï¼šèŠèŠæœ€æ–°çš„ç§‘æŠ€äº§å“ï¼Œæˆ–è€…åˆ†äº«ä¸€äº›å¥½ç”¨çš„è½¯ä»¶å’ŒæŠ€å·§ã€‚</li>
<li><strong>æ—…è¡Œæ—¥è®°</strong>ï¼šè®°å½•æ—…é€”ä¸­çš„é£æ™¯å’Œæ•…äº‹ã€‚</li>
<li><strong>é˜…è¯»ç¬”è®°</strong>ï¼šåˆ†äº«æœ€è¿‘è¯»è¿‡çš„å¥½ä¹¦ï¼Œæ‘˜å½•ä¸€äº›å‘äººæ·±çœçš„å¥å­ã€‚</li>
<li><strong>ç¾é£Ÿæ¢åº—</strong>ï¼šä½œä¸ºä¸€ä¸ªåƒè´§ï¼Œç¾é£Ÿçš„è¯±æƒ‘æ€ä¹ˆèƒ½æŠµæŒ¡ï¼Ÿ</li>
</ol>
<blockquote>
<p>â€œåƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚â€</p>
</blockquote>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½æˆä¸ºæˆ‘çš„â€œè¶³ä¸‹â€ç¬¬ä¸€æ­¥ã€‚æœªæ¥è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ï¼Œä½†æˆ‘å·²ç»å‡†å¤‡å¥½è¿æ¥æŒ‘æˆ˜ï¼Œç”¨æ–‡å­—å»æ¢ç´¢æ›´å¹¿é˜”çš„ä¸–ç•Œã€‚</p>
<p>æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼ŒæœŸå¾…ä¸ä½ åœ¨è¿™é‡Œå†æ¬¡ç›¸é‡ï¼</p>
]]></content>
      <tags>
        <tag>å¼€å§‹</tag>
      </tags>
  </entry>
  <entry>
    <title>é•°ä»“ä¸€æ—¥ï¼šæµ·ä¸å¤éƒ½çš„æ‚ ç„¶æ—¶å…‰</title>
    <url>/QingNoteblog/2025/07/29/edb50152.html</url>
    <content><![CDATA[<p>ä¸œäº¬çš„å¤æ—¥æ€»æ˜¯ä¼´éšç€å–§åš£ä¸çƒ­æµªã€‚ä¸ºäº†å¯»å¾—ç‰‡åˆ»å®é™ï¼Œä¸Šä¸ªå‘¨æœ«ï¼Œæˆ‘è¿›è¡Œäº†ä¸€æ¬¡è¯´èµ°å°±èµ°çš„æ—…è¡Œï¼Œç›®çš„åœ°æ˜¯é‚£åº§ç¦»å°˜ä¸ç¦»åŸçš„å¤éƒ½â€”â€”é•°ä»“ã€‚</p>
<h2 id="é•¿è°·å¯ºçš„ç´«é˜³èŠ±ä¸æµ·æ™¯"><a href="#é•¿è°·å¯ºçš„ç´«é˜³èŠ±ä¸æµ·æ™¯" class="headerlink" title="é•¿è°·å¯ºçš„ç´«é˜³èŠ±ä¸æµ·æ™¯"></a>é•¿è°·å¯ºçš„ç´«é˜³èŠ±ä¸æµ·æ™¯</h2><p>ç¬¬ä¸€ç«™æ˜¯é•¿è°·å¯ºã€‚è™½ç„¶é”™è¿‡äº†æœ€ç››å¤§çš„èŠ±æœŸï¼Œä½†å¯ºåº™å†…é›¶æ˜Ÿå¼€æ”¾çš„ç´«é˜³èŠ±ä¾ç„¶åŠ¨äººã€‚æ²¿ç€çŸ³é˜¶å‘ä¸Šï¼Œè§†é‡é€æ¸å¼€é˜”ã€‚åœ¨è§‚æ™¯å°ä¸Šï¼Œå¯ä»¥ä¿¯ç°åˆ°æ•´ä¸ªç”±æ¯”æ»¨æµ·å²¸çº¿ï¼Œæµ·é£å¹æ¥ï¼Œå¸¦èµ°äº†å¤æ—¥çš„ç‡¥çƒ­ï¼Œä¹Ÿå¹æ•£äº†å¿ƒä¸­çš„çƒ¦å¿§ã€‚</p>
<p><em>é‚£ä¸€åˆ»ï¼Œæˆ‘æ‰çœŸæ­£ç†è§£äº†ä»€ä¹ˆå«â€˜é¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€â€™ã€‚</em></p>
<h2 id="é•°ä»“å¤§ä½›ä¸æ±Ÿä¹‹ç”µ"><a href="#é•°ä»“å¤§ä½›ä¸æ±Ÿä¹‹ç”µ" class="headerlink" title="é•°ä»“å¤§ä½›ä¸æ±Ÿä¹‹ç”µ"></a>é•°ä»“å¤§ä½›ä¸æ±Ÿä¹‹ç”µ</h2><p>ä»é•¿è°·å¯ºå‡ºæ¥ï¼Œæ­¥è¡Œä¸ä¹…ä¾¿èƒ½ç»ä»°åˆ°é•°ä»“çš„è±¡å¾â€”â€”é«˜å¾·é™¢çš„é’é“œå¤§ä½›ã€‚ä»–é™é™åœ°åè½åœ¨é‚£é‡Œï¼Œç¥æƒ…æ‚²æ‚¯è€Œå®‰è¯¦ï¼Œä»¿ä½›è§è¯äº†æ•°ç™¾å¹´çš„é£é›¨å˜è¿ã€‚</p>
<p>å›ç¨‹æ—¶ï¼Œæˆ‘ç‰¹æ„ä½“éªŒäº†å¤å¤çš„æ±Ÿä¹‹ç”µã€‚å½“ç”µè½¦ç¼“ç¼“é©¶è¿‡æµ·å²¸çº¿ï¼Œçª—å¤–å°±æ˜¯æ³¢å…‰ç²¼ç²¼çš„å¤§æµ·å’Œã€ŠçŒç¯®é«˜æ‰‹ã€‹é‡Œçš„ç»å…¸è·¯å£æ—¶ï¼Œç«¥å¹´çš„è®°å¿†ç¬é—´æ¶Œä¸Šå¿ƒå¤´ã€‚</p>
<h2 id="å°ç”ºé€šçš„ç¾é£Ÿæ…°è—‰"><a href="#å°ç”ºé€šçš„ç¾é£Ÿæ…°è—‰" class="headerlink" title="å°ç”ºé€šçš„ç¾é£Ÿæ…°è—‰"></a>å°ç”ºé€šçš„ç¾é£Ÿæ…°è—‰</h2><p>æ—…è¡Œçš„ç»“å°¾ï¼Œè‡ªç„¶è¦ç”¨ç¾é£Ÿæ¥ç”»ä¸Šå¥å·ã€‚å°ç”ºé€šå•†ä¸šè¡—ä¸Šäººå¤´æ”’åŠ¨ï¼Œæˆ‘åœ¨è¿™é‡Œå“å°äº†ï¼š</p>
<ul>
<li>è½¯ç³¯çš„é…±æ²¹å›¢å­</li>
<li>å†°å‡‰çš„ç´«è–¯å†°æ·‡æ·‹</li>
<li>æ–°é²œå‡ºç‚‰çš„ä»™è´</li>
</ul>
<blockquote>
<p>æ—…è¡Œçš„æ„ä¹‰ï¼Œæˆ–è®¸å°±æ˜¯åœ¨ç†Ÿæ‚‰çš„ç”Ÿæ´»é‡Œï¼Œç»™è‡ªå·±ä¸€ä¸ªçŸ­æš‚æŠ½ç¦»çš„æœºä¼šï¼Œç„¶åå¸¦ç€æ–°çš„èƒ½é‡é‡æ–°å‡ºå‘ã€‚</p>
</blockquote>
<p>é•°ä»“çš„ä¸€å¤©ï¼Œæ˜¯æ²»æ„ˆçš„ä¸€å¤©ã€‚</p>
]]></content>
      <tags>
        <tag>æ—…è¡Œ</tag>
        <tag>æ—¥æœ¬</tag>
        <tag>é•°ä»“</tag>
      </tags>
  </entry>
</search>
